{"version":3,"file":"instrumentation.js","sourceRoot":"","sources":["../../../../src/instrumentations/webVitals/instrumentation.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,mBAAmB,EAAE,OAAO,EAAE,MAAM,oBAAoB,CAAC;AAElE,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAClD,OAAO,EAAE,wBAAwB,EAAE,MAAM,4BAA4B,CAAC;AAEtE,MAAM,OAAO,wBAAyB,SAAQ,mBAAmB;IAAjE;;QACW,SAAI,GAAG,kDAAkD,CAAC;QAC1D,YAAO,GAAG,OAAO,CAAC;IAiB7B,CAAC;IAfC,UAAU;QACR,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;QAC9B,MAAM,SAAS,GAAG,IAAI,CAAC,iCAAiC,EAAE,CAAC;QAC3D,SAAS,CAAC,UAAU,EAAE,CAAC;IACzB,CAAC;IAEO,iCAAiC;;QACvC,IACE,CAAA,MAAA,IAAI,CAAC,MAAM,0CAAE,yBAAyB,MAAK,KAAK;YAChD,CAAA,MAAA,MAAA,IAAI,CAAC,MAAM,0CAAE,wBAAwB,0CAAE,gBAAgB,MAAK,KAAK,EACjE,CAAC;YACD,OAAO,IAAI,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,CAAC;QAC5F,CAAC;QACD,OAAO,IAAI,wBAAwB,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,CAAC;IACtG,CAAC;CACF","sourcesContent":["import { BaseInstrumentation, VERSION } from '@grafana/faro-core';\n\nimport { WebVitalsBasic } from './webVitalsBasic';\nimport { WebVitalsWithAttribution } from './webVitalsWithAttribution';\n\nexport class WebVitalsInstrumentation extends BaseInstrumentation {\n  readonly name = '@grafana/faro-web-sdk:instrumentation-web-vitals';\n  readonly version = VERSION;\n\n  initialize(): void {\n    this.logDebug('Initializing');\n    const webVitals = this.intializeWebVitalsInstrumentation();\n    webVitals.initialize();\n  }\n\n  private intializeWebVitalsInstrumentation() {\n    if (\n      this.config?.trackWebVitalsAttribution === false ||\n      this.config?.webVitalsInstrumentation?.trackAttribution === false\n    ) {\n      return new WebVitalsBasic(this.api.pushMeasurement, this.config.webVitalsInstrumentation);\n    }\n    return new WebVitalsWithAttribution(this.api.pushMeasurement, this.config.webVitalsInstrumentation);\n  }\n}\n"]}