{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../src/api/traces/types.ts"],"names":[],"mappings":"","sourcesContent":["import type { ContextAPI as OTELContextAPI, TraceAPI as OTELTraceAPI } from '@opentelemetry/api';\nimport type { IResourceSpans } from '@opentelemetry/otlp-transformer/build/src/trace/internal-types';\n\n// TODO: Revert temporary patching\n// in latest OpenTelemetry packages protobuf type \"instrumentationLibrary\" has been renamed to \"scope\"\n// however on the Grafana Agent we use older OTel collector that doesn't have this change\n// temporarily patching types to the old shape until Grafana Agent catches up to otel-collector >= 0.52\nexport interface TraceEvent {\n  resourceSpans?: IResourceSpans[];\n}\n\nexport interface OTELApi {\n  trace: OTELTraceAPI;\n  context: OTELContextAPI;\n}\n\nexport interface TracesAPI {\n  getOTEL: () => OTELApi | undefined;\n  getTraceContext: () => TraceContext | undefined;\n  initOTEL: (trace: OTELTraceAPI, context: OTELContextAPI) => void;\n  isOTELInitialized: () => boolean;\n  pushTraces: (traces: TraceEvent) => void;\n}\n\n// trace context for logs, exceptions, measurements\nexport interface TraceContext {\n  trace_id: string;\n  span_id: string;\n}\n"]}