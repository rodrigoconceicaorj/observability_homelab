{"version":3,"file":"faroGlobalObject.js","sourceRoot":"","sources":["../../../src/sdk/faroGlobalObject.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,iBAAiB,CAAC;AAI/C,MAAM,UAAU,qBAAqB,CAAC,IAAU;IAC9C,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAE,CAAC;QACvC,IAAI,CAAC,cAAc,CAAC,KAAK,CACvB,gEAAgE,IAAI,CAAC,MAAM,CAAC,eAAe,OAAO,CACnG,CAAC;QAEF,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,IAAI,YAAY,EAAE,CAAC;YAChD,IAAI,CAAC,cAAc,CAAC,IAAI,CACtB,4CAA4C,IAAI,CAAC,MAAM,CAAC,eAAe,+GAA+G,CACvL,CAAC;YAEF,OAAO;QACT,CAAC;QAED,MAAM,CAAC,cAAc,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE;YAC/D,YAAY,EAAE,KAAK;YACnB,QAAQ,EAAE,KAAK;YACf,KAAK,EAAE,IAAI;SACZ,CAAC,CAAC;IACL,CAAC;SAAM,CAAC;QACN,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,+DAA+D,CAAC,CAAC;IAC7F,CAAC;AACH,CAAC","sourcesContent":["import { globalObject } from '../globalObject';\n\nimport type { Faro } from './types';\n\nexport function setFaroOnGlobalObject(faro: Faro): void {\n  if (!faro.config.preventGlobalExposure) {\n    faro.internalLogger.debug(\n      `Registering public faro reference in the global scope using \"${faro.config.globalObjectKey}\" key`\n    );\n\n    if (faro.config.globalObjectKey in globalObject) {\n      faro.internalLogger.warn(\n        `Skipping global registration due to key \"${faro.config.globalObjectKey}\" being used already. Please set \"globalObjectKey\" to something else or set \"preventGlobalExposure\" to \"true\"`\n      );\n\n      return;\n    }\n\n    Object.defineProperty(globalObject, faro.config.globalObjectKey, {\n      configurable: false,\n      writable: false,\n      value: faro,\n    });\n  } else {\n    faro.internalLogger.debug('Skipping registering public Faro instance in the global scope');\n  }\n}\n"]}